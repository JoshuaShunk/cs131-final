{"ast":null,"code":"var _jsxFileName = \"/Users/joshuashunk/Documents/cs131-nerf/src/components/MiniSeatView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// @ts-nocheck\nimport React, { Suspense, useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { Canvas, useFrame, useThree, useLoader } from '@react-three/fiber';\nimport { Environment, useAnimations } from '@react-three/drei';\nimport { positionCameraAtSeat } from '../utils/modelLoader';\nimport { useModel } from '../utils/ModelContext';\nimport * as THREE from 'three';\nimport { ColladaLoader } from 'three/examples/jsm/loaders/ColladaLoader';\nimport { getStadiumModelPath } from '../utils/modelLoader';\n\n// Custom first-person camera controls\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FirstPersonControls = ({\n  seatCoordinates,\n  mini = true\n}) => {\n  _s();\n  const {\n    camera,\n    gl\n  } = useThree();\n  const isDragging = useRef(false);\n  const lastMouseX = useRef(0);\n  const lastMouseY = useRef(0);\n  const rotationX = useRef(0);\n  const rotationY = useRef(0);\n\n  // Set initial camera position\n  useEffect(() => {\n    if (camera && seatCoordinates) {\n      // Position the camera at the seat, but closer to the model\n      // Scale down the coordinates to ensure the camera is closer to the model\n      const scale = 0.1; // Adjust this value to control how close the camera is to the model\n      camera.position.set(seatCoordinates.x * scale || 0, seatCoordinates.y * scale || 1,\n      // Keep some height\n      seatCoordinates.z * scale || 3 // Set closer to the stadium\n      );\n\n      // Look at the center of the stadium initially\n      camera.lookAt(0, 0, 0);\n    }\n  }, [camera, seatCoordinates]);\n\n  // Lock camera position on each frame\n  useFrame(() => {\n    if (camera && seatCoordinates) {\n      // Keep the camera position fixed at the seat\n      const scale = 0.1; // Same scale as above\n      camera.position.set(seatCoordinates.x * scale || 0, seatCoordinates.y * scale || 1, seatCoordinates.z * scale || 3);\n    }\n  });\n\n  // Set up mouse event listeners for camera rotation\n  useEffect(() => {\n    if (!mini) return; // Only add listeners for mini view if needed\n\n    const canvas = gl.domElement;\n    const handleMouseDown = e => {\n      isDragging.current = true;\n      lastMouseX.current = e.clientX;\n      lastMouseY.current = e.clientY;\n    };\n    const handleMouseUp = () => {\n      isDragging.current = false;\n    };\n    const handleMouseMove = e => {\n      if (!isDragging.current) return;\n\n      // Calculate mouse movement\n      const deltaX = e.clientX - lastMouseX.current;\n      const deltaY = e.clientY - lastMouseY.current;\n      lastMouseX.current = e.clientX;\n      lastMouseY.current = e.clientY;\n\n      // Update rotation (with sensitivity adjustment)\n      const sensitivity = 0.003;\n      rotationY.current -= deltaX * sensitivity;\n      rotationX.current -= deltaY * sensitivity;\n\n      // Limit vertical rotation to avoid flipping\n      rotationX.current = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotationX.current));\n\n      // Apply rotation as quaternion\n      camera.quaternion.setFromEuler(new THREE.Euler(rotationX.current, rotationY.current, 0, 'YXZ'));\n    };\n\n    // Add event listeners\n    canvas.addEventListener('mousedown', handleMouseDown);\n    window.addEventListener('mouseup', handleMouseUp);\n    window.addEventListener('mousemove', handleMouseMove);\n\n    // Clean up\n    return () => {\n      canvas.removeEventListener('mousedown', handleMouseDown);\n      window.removeEventListener('mouseup', handleMouseUp);\n      window.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [gl, mini]);\n  return null;\n};\n\n// Stadium NeRF model component - using shared model context\n_s(FirstPersonControls, \"6DV1jEdZI8eqxddmi5IkR8u/2cM=\", false, function () {\n  return [useThree, useFrame];\n});\n_c = FirstPersonControls;\nconst StadiumModel = ({\n  seatCoordinates\n}) => {\n  _s2();\n  var _model$scene, _model$scene$children;\n  const {\n    model,\n    error,\n    isLoading\n  } = useModel();\n  const group = useRef();\n  console.log('[MiniSeatView] Model status:', {\n    isLoading,\n    hasModel: !!model,\n    hasError: !!error\n  });\n\n  // Try to load the DAE model directly if useModel is not working\n  const modelPath = getStadiumModelPath();\n  const isDAEFile = modelPath.toLowerCase().endsWith('.dae');\n\n  // Use direct loader for DAE files as a fallback\n  const daeModel = isDAEFile ? useLoader(ColladaLoader, modelPath) : null;\n\n  // If we have a direct DAE model, use it\n  if (isDAEFile && daeModel && (!model || error)) {\n    console.log('[MiniSeatView] Using directly loaded DAE model:', daeModel);\n\n    // Apply transformations to the DAE model\n    useEffect(() => {\n      const modelObject = daeModel.scene || daeModel;\n      if (modelObject) {\n        console.log('[MiniSeatView] Setting up DAE model');\n\n        // Scale the model appropriately - DAE models often need different scaling\n        modelObject.scale.set(0.1, 0.1, 0.1); // Adjust this based on your model's size\n\n        // Position the model if needed\n        modelObject.position.set(0, -1, 0);\n\n        // Rotate the model if needed (DAE models might have different orientation)\n        // modelObject.rotation.set(0, Math.PI, 0); // Uncomment if needed\n      }\n    }, [daeModel]);\n    return /*#__PURE__*/_jsxDEV(\"group\", {\n      ref: group,\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: daeModel.scene || daeModel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [10, 10, 5],\n        intensity: 1,\n        castShadow: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [-10, 10, 5],\n        intensity: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n        position: [0, -1, 0],\n        rotation: [-Math.PI / 2, 0, 0],\n        receiveShadow: true,\n        children: [/*#__PURE__*/_jsxDEV(\"circleGeometry\", {\n          args: [50, 64]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n          color: \"#4caf50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If model is still loading, we'll let the parent component show a loading indicator\n  if (isLoading) {\n    return null;\n  }\n\n  // If model is null or there's an error, return the fallback model\n  if (!model || error) {\n    console.log('[MiniSeatView] Using fallback model due to:', error || 'No model available');\n    return /*#__PURE__*/_jsxDEV(FallbackModel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Check if the model is a Collada model (DAE)\n  const isColladaModel = !!model.scene && !model.scene.isObject3D;\n\n  // Get animations if available\n  const animations = (model === null || model === void 0 ? void 0 : model.animations) || [];\n  const {\n    actions\n  } = useAnimations(animations, group);\n\n  // Check if the model has actual geometry - if not, use the fallback\n  const hasGeometry = isColladaModel ? true : // Collada models are handled differently\n  model === null || model === void 0 ? void 0 : (_model$scene = model.scene) === null || _model$scene === void 0 ? void 0 : (_model$scene$children = _model$scene.children) === null || _model$scene$children === void 0 ? void 0 : _model$scene$children.some(child => child.type === 'Mesh' || child.type === 'Group' || child.children && child.children.length > 0);\n  if (!hasGeometry) {\n    console.log('[MiniSeatView] Model has no geometry, using fallback model');\n    return /*#__PURE__*/_jsxDEV(FallbackModel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Apply transformations to the model\n  useEffect(() => {\n    if (model !== null && model !== void 0 && model.scene) {\n      console.log('[MiniSeatView] Setting up model scene');\n\n      // Scale the model appropriately\n      model.scene.scale.set(1, 1, 1);\n\n      // Position the model if needed\n      model.scene.position.set(0, -1, 0);\n\n      // Play any animations if they exist\n      if (actions && Object.keys(actions).length > 0) {\n        var _actions$actionName;\n        const actionName = Object.keys(actions)[0];\n        console.log('[MiniSeatView] Playing animation:', actionName);\n        (_actions$actionName = actions[actionName]) === null || _actions$actionName === void 0 ? void 0 : _actions$actionName.play();\n      }\n    }\n  }, [model, actions]);\n\n  // Return the loaded model\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: group,\n    children: [isColladaModel ?\n    /*#__PURE__*/\n    // For Collada models, we need to handle the structure differently\n    _jsxDEV(\"primitive\", {\n      object: model.scene\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // For GLB/GLTF models, we can clone the scene\n    _jsxDEV(\"primitive\", {\n      object: model.scene.clone()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.7\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [10, 10, 5],\n      intensity: 1,\n      castShadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [-10, 10, 5],\n      intensity: 0.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -1, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"circleGeometry\", {\n        args: [50, 64]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#4caf50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n};\n\n// Fallback model to use if the stadium model fails to load\n_s2(StadiumModel, \"hucVXyMbIMJDZ19ikOjZ20hjZDo=\", false, function () {\n  return [useModel, useLoader, useAnimations];\n});\n_c2 = StadiumModel;\nconst FallbackModel = () => {\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -1, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"circleGeometry\", {\n        args: [100, 64]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#4caf50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -0.95, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"circleGeometry\", {\n        args: [30, 64]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#8bc34a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -0.9, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"ringGeometry\", {\n        args: [29, 30, 64]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#ffffff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -0.85, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"circleGeometry\", {\n        args: [3, 32]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#cddc39\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), Array.from({\n      length: 12\n    }).map((_, i) => {\n      const angle = i * Math.PI / 6;\n      const radius = 50;\n      const x = Math.cos(angle) * radius;\n      const z = Math.sin(angle) * radius;\n      const height = 20;\n      const width = 20;\n      return /*#__PURE__*/_jsxDEV(\"group\", {\n        position: [x, 5, z],\n        rotation: [0, -angle + Math.PI / 2, 0],\n        children: /*#__PURE__*/_jsxDEV(\"mesh\", {\n          castShadow: true,\n          receiveShadow: true,\n          children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n            args: [width, height, 8]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n            color: \"#bbdefb\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)\n      }, `stand-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }, this);\n    }), Array.from({\n      length: 4\n    }).map((_, i) => {\n      const angle = i * Math.PI / 2;\n      const radius = 60;\n      const x = Math.cos(angle) * radius;\n      const z = Math.sin(angle) * radius;\n      return /*#__PURE__*/_jsxDEV(\"group\", {\n        position: [x, 30, z],\n        children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n          castShadow: true,\n          children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n            args: [5, 5, 5]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n            color: \"#f5f5f5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n          position: [0, 0, 0],\n          intensity: 1,\n          distance: 200,\n          decay: 2,\n          castShadow: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this)]\n      }, `light-${i}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, 0, 0],\n      castShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"sphereGeometry\", {\n        args: [1, 16, 16]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#f44336\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [10, 20, 10],\n      intensity: 0.8,\n      castShadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"fog\", {\n      attach: \"fog\",\n      args: ['#e0f7fa', 50, 250]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n};\n_c3 = FallbackModel;\nconst MiniSeatView = ({\n  seatCoordinates,\n  seat,\n  mini = true\n}) => {\n  _s3();\n  const {\n    isLoading,\n    error\n  } = useModel();\n\n  // Calculate scaled seat coordinates for initial camera position\n  const scaledCoordinates = seatCoordinates ? {\n    x: seatCoordinates.x * 0.1 || 0,\n    y: seatCoordinates.y * 0.1 || 1,\n    z: seatCoordinates.z * 0.1 || 3\n  } : null;\n  return /*#__PURE__*/_jsxDEV(ViewContainer, {\n    mini: mini,\n    children: [isLoading ? /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Canvas, {\n      camera: {\n        position: [(scaledCoordinates === null || scaledCoordinates === void 0 ? void 0 : scaledCoordinates.x) || 0, (scaledCoordinates === null || scaledCoordinates === void 0 ? void 0 : scaledCoordinates.y) || 1, (scaledCoordinates === null || scaledCoordinates === void 0 ? void 0 : scaledCoordinates.z) || 3],\n        fov: 75\n      },\n      onCreated: ({\n        gl\n      }) => {\n        gl.domElement.style.touchAction = 'none';\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n        position: [10, 10, 10],\n        intensity: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: null,\n        children: [/*#__PURE__*/_jsxDEV(StadiumModel, {\n          seatCoordinates: scaledCoordinates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Environment, {\n          preset: \"sunset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FirstPersonControls, {\n        seatCoordinates: seatCoordinates,\n        mini: mini\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }, this)]\n    }, `mini-view-${seatCoordinates === null || seatCoordinates === void 0 ? void 0 : seatCoordinates.x}-${seatCoordinates === null || seatCoordinates === void 0 ? void 0 : seatCoordinates.y}-${seatCoordinates === null || seatCoordinates === void 0 ? void 0 : seatCoordinates.z}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorOverlay, {\n      children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: \"Could not load view\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n};\n_s3(MiniSeatView, \"3x0FJgettE8EoU926DjiaV3gD3g=\", false, function () {\n  return [useModel];\n});\n_c4 = MiniSeatView;\nconst ViewContainer = styled.div`\n  height: ${props => props.mini ? '100%' : '100%'};\n  width: 100%;\n  position: relative;\n  background-color: #f5f5f5;\n`;\n_c5 = ViewContainer;\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.9);\n  z-index: 10;\n`;\n_c6 = LoadingOverlay;\nconst LoadingSpinner = styled.div`\n  width: 30px;\n  height: 30px;\n  border: 3px solid #f3f3f3;\n  border-top: 3px solid #1976d2;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n_c7 = LoadingSpinner;\nconst ErrorOverlay = styled.div`\n  position: absolute;\n  bottom: 10px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  pointer-events: none;\n`;\n_c8 = ErrorOverlay;\nconst ErrorMessage = styled.div`\n  background-color: rgba(244, 67, 54, 0.8);\n  color: white;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n`;\n_c9 = ErrorMessage;\nexport default MiniSeatView;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"FirstPersonControls\");\n$RefreshReg$(_c2, \"StadiumModel\");\n$RefreshReg$(_c3, \"FallbackModel\");\n$RefreshReg$(_c4, \"MiniSeatView\");\n$RefreshReg$(_c5, \"ViewContainer\");\n$RefreshReg$(_c6, \"LoadingOverlay\");\n$RefreshReg$(_c7, \"LoadingSpinner\");\n$RefreshReg$(_c8, \"ErrorOverlay\");\n$RefreshReg$(_c9, \"ErrorMessage\");","map":{"version":3,"names":["React","Suspense","useState","useEffect","useRef","styled","Canvas","useFrame","useThree","useLoader","Environment","useAnimations","positionCameraAtSeat","useModel","THREE","ColladaLoader","getStadiumModelPath","jsxDEV","_jsxDEV","FirstPersonControls","seatCoordinates","mini","_s","camera","gl","isDragging","lastMouseX","lastMouseY","rotationX","rotationY","scale","position","set","x","y","z","lookAt","canvas","domElement","handleMouseDown","e","current","clientX","clientY","handleMouseUp","handleMouseMove","deltaX","deltaY","sensitivity","Math","max","PI","min","quaternion","setFromEuler","Euler","addEventListener","window","removeEventListener","_c","StadiumModel","_s2","_model$scene","_model$scene$children","model","error","isLoading","group","console","log","hasModel","hasError","modelPath","isDAEFile","toLowerCase","endsWith","daeModel","modelObject","scene","ref","children","object","fileName","_jsxFileName","lineNumber","columnNumber","intensity","castShadow","rotation","receiveShadow","args","color","FallbackModel","isColladaModel","isObject3D","animations","actions","hasGeometry","some","child","type","length","Object","keys","_actions$actionName","actionName","play","clone","_c2","Array","from","map","_","i","angle","radius","cos","sin","height","width","distance","decay","attach","_c3","MiniSeatView","seat","_s3","scaledCoordinates","ViewContainer","LoadingOverlay","LoadingSpinner","fov","onCreated","style","touchAction","fallback","preset","ErrorOverlay","ErrorMessage","_c4","div","props","_c5","_c6","_c7","_c8","_c9","$RefreshReg$"],"sources":["/Users/joshuashunk/Documents/cs131-nerf/src/components/MiniSeatView.js"],"sourcesContent":["// @ts-nocheck\nimport React, { Suspense, useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { Canvas, useFrame, useThree, useLoader } from '@react-three/fiber';\nimport { Environment, useAnimations } from '@react-three/drei';\nimport { positionCameraAtSeat } from '../utils/modelLoader';\nimport { useModel } from '../utils/ModelContext';\nimport * as THREE from 'three';\nimport { ColladaLoader } from 'three/examples/jsm/loaders/ColladaLoader';\nimport { getStadiumModelPath } from '../utils/modelLoader';\n\n// Custom first-person camera controls\nconst FirstPersonControls = ({ seatCoordinates, mini = true }) => {\n  const { camera, gl } = useThree();\n  const isDragging = useRef(false);\n  const lastMouseX = useRef(0);\n  const lastMouseY = useRef(0);\n  const rotationX = useRef(0);\n  const rotationY = useRef(0);\n  \n  // Set initial camera position\n  useEffect(() => {\n    if (camera && seatCoordinates) {\n      // Position the camera at the seat, but closer to the model\n      // Scale down the coordinates to ensure the camera is closer to the model\n      const scale = 0.1; // Adjust this value to control how close the camera is to the model\n      camera.position.set(\n        seatCoordinates.x * scale || 0,\n        seatCoordinates.y * scale || 1, // Keep some height\n        seatCoordinates.z * scale || 3  // Set closer to the stadium\n      );\n      \n      // Look at the center of the stadium initially\n      camera.lookAt(0, 0, 0);\n    }\n  }, [camera, seatCoordinates]);\n  \n  // Lock camera position on each frame\n  useFrame(() => {\n    if (camera && seatCoordinates) {\n      // Keep the camera position fixed at the seat\n      const scale = 0.1; // Same scale as above\n      camera.position.set(\n        seatCoordinates.x * scale || 0,\n        seatCoordinates.y * scale || 1,\n        seatCoordinates.z * scale || 3\n      );\n    }\n  });\n  \n  // Set up mouse event listeners for camera rotation\n  useEffect(() => {\n    if (!mini) return; // Only add listeners for mini view if needed\n    \n    const canvas = gl.domElement;\n    \n    const handleMouseDown = (e) => {\n      isDragging.current = true;\n      lastMouseX.current = e.clientX;\n      lastMouseY.current = e.clientY;\n    };\n    \n    const handleMouseUp = () => {\n      isDragging.current = false;\n    };\n    \n    const handleMouseMove = (e) => {\n      if (!isDragging.current) return;\n      \n      // Calculate mouse movement\n      const deltaX = e.clientX - lastMouseX.current;\n      const deltaY = e.clientY - lastMouseY.current;\n      lastMouseX.current = e.clientX;\n      lastMouseY.current = e.clientY;\n      \n      // Update rotation (with sensitivity adjustment)\n      const sensitivity = 0.003;\n      rotationY.current -= deltaX * sensitivity;\n      rotationX.current -= deltaY * sensitivity;\n      \n      // Limit vertical rotation to avoid flipping\n      rotationX.current = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotationX.current));\n      \n      // Apply rotation as quaternion\n      camera.quaternion.setFromEuler(\n        new THREE.Euler(rotationX.current, rotationY.current, 0, 'YXZ')\n      );\n    };\n    \n    // Add event listeners\n    canvas.addEventListener('mousedown', handleMouseDown);\n    window.addEventListener('mouseup', handleMouseUp);\n    window.addEventListener('mousemove', handleMouseMove);\n    \n    // Clean up\n    return () => {\n      canvas.removeEventListener('mousedown', handleMouseDown);\n      window.removeEventListener('mouseup', handleMouseUp);\n      window.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [gl, mini]);\n  \n  return null;\n};\n\n// Stadium NeRF model component - using shared model context\nconst StadiumModel = ({ seatCoordinates }) => {\n  const { model, error, isLoading } = useModel();\n  const group = useRef();\n  \n  console.log('[MiniSeatView] Model status:', { isLoading, hasModel: !!model, hasError: !!error });\n  \n  // Try to load the DAE model directly if useModel is not working\n  const modelPath = getStadiumModelPath();\n  const isDAEFile = modelPath.toLowerCase().endsWith('.dae');\n  \n  // Use direct loader for DAE files as a fallback\n  const daeModel = isDAEFile ? useLoader(ColladaLoader, modelPath) : null;\n  \n  // If we have a direct DAE model, use it\n  if (isDAEFile && daeModel && (!model || error)) {\n    console.log('[MiniSeatView] Using directly loaded DAE model:', daeModel);\n    \n    // Apply transformations to the DAE model\n    useEffect(() => {\n      const modelObject = daeModel.scene || daeModel;\n      if (modelObject) {\n        console.log('[MiniSeatView] Setting up DAE model');\n        \n        // Scale the model appropriately - DAE models often need different scaling\n        modelObject.scale.set(0.1, 0.1, 0.1); // Adjust this based on your model's size\n        \n        // Position the model if needed\n        modelObject.position.set(0, -1, 0);\n        \n        // Rotate the model if needed (DAE models might have different orientation)\n        // modelObject.rotation.set(0, Math.PI, 0); // Uncomment if needed\n      }\n    }, [daeModel]);\n    \n    return (\n      <group ref={group}>\n        {/* Render the loaded DAE model */}\n        <primitive object={daeModel.scene || daeModel} />\n        \n        {/* Add additional elements for better visualization */}\n        <ambientLight intensity={0.7} />\n        <directionalLight position={[10, 10, 5]} intensity={1} castShadow />\n        <directionalLight position={[-10, 10, 5]} intensity={0.5} />\n        \n        {/* Add a circular platform to represent the stadium floor */}\n        <mesh position={[0, -1, 0]} rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n          <circleGeometry args={[50, 64]} />\n          <meshStandardMaterial color=\"#4caf50\" />\n        </mesh>\n      </group>\n    );\n  }\n  \n  // If model is still loading, we'll let the parent component show a loading indicator\n  if (isLoading) {\n    return null;\n  }\n  \n  // If model is null or there's an error, return the fallback model\n  if (!model || error) {\n    console.log('[MiniSeatView] Using fallback model due to:', error || 'No model available');\n    return <FallbackModel />;\n  }\n  \n  // Check if the model is a Collada model (DAE)\n  const isColladaModel = !!model.scene && !(model.scene.isObject3D);\n  \n  // Get animations if available\n  const animations = model?.animations || [];\n  const { actions } = useAnimations(animations, group);\n  \n  // Check if the model has actual geometry - if not, use the fallback\n  const hasGeometry = isColladaModel ? \n    true : // Collada models are handled differently\n    model?.scene?.children?.some(child => \n      child.type === 'Mesh' || \n      child.type === 'Group' || \n      (child.children && child.children.length > 0)\n    );\n  \n  if (!hasGeometry) {\n    console.log('[MiniSeatView] Model has no geometry, using fallback model');\n    return <FallbackModel />;\n  }\n  \n  // Apply transformations to the model\n  useEffect(() => {\n    if (model?.scene) {\n      console.log('[MiniSeatView] Setting up model scene');\n      \n      // Scale the model appropriately\n      model.scene.scale.set(1, 1, 1);\n      \n      // Position the model if needed\n      model.scene.position.set(0, -1, 0);\n      \n      // Play any animations if they exist\n      if (actions && Object.keys(actions).length > 0) {\n        const actionName = Object.keys(actions)[0];\n        console.log('[MiniSeatView] Playing animation:', actionName);\n        actions[actionName]?.play();\n      }\n    }\n  }, [model, actions]);\n  \n  // Return the loaded model\n  return (\n    <group ref={group}>\n      {/* Render the loaded model */}\n      {isColladaModel ? (\n        // For Collada models, we need to handle the structure differently\n        <primitive object={model.scene} />\n      ) : (\n        // For GLB/GLTF models, we can clone the scene\n        <primitive object={model.scene.clone()} />\n      )}\n      \n      {/* Add additional elements for better visualization */}\n      <ambientLight intensity={0.7} />\n      <directionalLight position={[10, 10, 5]} intensity={1} castShadow />\n      <directionalLight position={[-10, 10, 5]} intensity={0.5} />\n      \n      {/* Add a circular platform to represent the stadium floor */}\n      <mesh position={[0, -1, 0]} rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n        <circleGeometry args={[50, 64]} />\n        <meshStandardMaterial color=\"#4caf50\" />\n      </mesh>\n    </group>\n  );\n};\n\n// Fallback model to use if the stadium model fails to load\nconst FallbackModel = () => {\n  return (\n    <group>\n      {/* Stadium floor */}\n      <mesh position={[0, -1, 0]} rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n        <circleGeometry args={[100, 64]} />\n        <meshStandardMaterial color=\"#4caf50\" />\n      </mesh>\n      \n      {/* Center court/field */}\n      <mesh position={[0, -0.95, 0]} rotation={[-Math.PI / 2, 0, 0]}>\n        <circleGeometry args={[30, 64]} />\n        <meshStandardMaterial color=\"#8bc34a\" />\n      </mesh>\n      \n      {/* Center court lines */}\n      <mesh position={[0, -0.9, 0]} rotation={[-Math.PI / 2, 0, 0]}>\n        <ringGeometry args={[29, 30, 64]} />\n        <meshStandardMaterial color=\"#ffffff\" />\n      </mesh>\n      \n      {/* Center marker */}\n      <mesh position={[0, -0.85, 0]} rotation={[-Math.PI / 2, 0, 0]}>\n        <circleGeometry args={[3, 32]} />\n        <meshStandardMaterial color=\"#cddc39\" />\n      </mesh>\n      \n      {/* Stadium seating - circular arrangement (simplified for mini view) */}\n      {Array.from({ length: 12 }).map((_, i) => {\n        const angle = (i * Math.PI) / 6;\n        const radius = 50;\n        const x = Math.cos(angle) * radius;\n        const z = Math.sin(angle) * radius;\n        const height = 20;\n        const width = 20;\n        \n        return (\n          <group key={`stand-${i}`} position={[x, 5, z]} rotation={[0, -angle + Math.PI / 2, 0]}>\n            <mesh castShadow receiveShadow>\n              <boxGeometry args={[width, height, 8]} />\n              <meshStandardMaterial color=\"#bbdefb\" />\n            </mesh>\n          </group>\n        );\n      })}\n      \n      {/* Stadium lights */}\n      {Array.from({ length: 4 }).map((_, i) => {\n        const angle = (i * Math.PI) / 2;\n        const radius = 60;\n        const x = Math.cos(angle) * radius;\n        const z = Math.sin(angle) * radius;\n        \n        return (\n          <group key={`light-${i}`} position={[x, 30, z]}>\n            <mesh castShadow>\n              <boxGeometry args={[5, 5, 5]} />\n              <meshStandardMaterial color=\"#f5f5f5\" />\n            </mesh>\n            <pointLight position={[0, 0, 0]} intensity={1} distance={200} decay={2} castShadow />\n          </group>\n        );\n      })}\n      \n      {/* Players/objects on the field - for scale reference */}\n      <mesh position={[0, 0, 0]} castShadow>\n        <sphereGeometry args={[1, 16, 16]} />\n        <meshStandardMaterial color=\"#f44336\" />\n      </mesh>\n      \n      {/* Environment ambience */}\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[10, 20, 10]} intensity={0.8} castShadow />\n      <fog attach=\"fog\" args={['#e0f7fa', 50, 250]} />\n    </group>\n  );\n};\n\nconst MiniSeatView = ({ seatCoordinates, seat, mini = true }) => {\n  const { isLoading, error } = useModel();\n  \n  // Calculate scaled seat coordinates for initial camera position\n  const scaledCoordinates = seatCoordinates ? {\n    x: seatCoordinates.x * 0.1 || 0,\n    y: seatCoordinates.y * 0.1 || 1,\n    z: seatCoordinates.z * 0.1 || 3\n  } : null;\n  \n  return (\n    <ViewContainer mini={mini}>\n      {isLoading ? (\n        <LoadingOverlay>\n          <LoadingSpinner />\n        </LoadingOverlay>\n      ) : (\n        <Canvas \n          key={`mini-view-${seatCoordinates?.x}-${seatCoordinates?.y}-${seatCoordinates?.z}`} \n          camera={{ \n            position: [\n              scaledCoordinates?.x || 0, \n              scaledCoordinates?.y || 1, \n              scaledCoordinates?.z || 3\n            ], \n            fov: 75 \n          }}\n          onCreated={({ gl }) => {\n            gl.domElement.style.touchAction = 'none';\n          }}\n        >\n          <ambientLight intensity={0.5} />\n          <pointLight position={[10, 10, 10]} intensity={1} />\n          <Suspense fallback={null}>\n            <StadiumModel seatCoordinates={scaledCoordinates} />\n            <Environment preset=\"sunset\" />\n          </Suspense>\n          <FirstPersonControls seatCoordinates={seatCoordinates} mini={mini} />\n        </Canvas>\n      )}\n      \n      {error && (\n        <ErrorOverlay>\n          <ErrorMessage>\n            Could not load view\n          </ErrorMessage>\n        </ErrorOverlay>\n      )}\n    </ViewContainer>\n  );\n};\n\nconst ViewContainer = styled.div`\n  height: ${props => props.mini ? '100%' : '100%'};\n  width: 100%;\n  position: relative;\n  background-color: #f5f5f5;\n`;\n\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.9);\n  z-index: 10;\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 30px;\n  height: 30px;\n  border: 3px solid #f3f3f3;\n  border-top: 3px solid #1976d2;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst ErrorOverlay = styled.div`\n  position: absolute;\n  bottom: 10px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  pointer-events: none;\n`;\n\nconst ErrorMessage = styled.div`\n  background-color: rgba(244, 67, 54, 0.8);\n  color: white;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n`;\n\nexport default MiniSeatView; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}