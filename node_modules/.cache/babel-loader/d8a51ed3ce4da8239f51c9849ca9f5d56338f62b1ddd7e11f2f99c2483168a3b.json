{"ast":null,"code":"var _jsxFileName = \"/Users/joshuashunk/Documents/cs131-nerf/src/components/SeatView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\n// @ts-nocheck\nimport React, { Suspense, useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport styled from 'styled-components';\nimport { Canvas, useFrame, useThree, useLoader } from '@react-three/fiber';\nimport { PerspectiveCamera, Environment, useAnimations } from '@react-three/drei';\nimport { positionCameraAtSeat } from '../utils/modelLoader';\nimport { useModel } from '../utils/ModelContext';\nimport * as THREE from 'three';\nimport { ColladaLoader } from 'three/examples/jsm/loaders/ColladaLoader';\nimport { getStadiumModelPath } from '../utils/modelLoader';\n\n// Custom first-person camera controls optimized for performance\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FirstPersonControls = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  seatCoordinates\n}) => {\n  _s();\n  const {\n    camera,\n    gl\n  } = useThree();\n  const isDragging = useRef(false);\n  const lastMouseX = useRef(0);\n  const lastMouseY = useRef(0);\n  const rotationX = useRef(0);\n  const rotationY = useRef(0);\n\n  // Set initial camera position only once when coordinates change\n  useEffect(() => {\n    if (camera && seatCoordinates) {\n      camera.position.set(seatCoordinates.x || 0, seatCoordinates.y || 2, seatCoordinates.z || 0);\n\n      // Look at the center of the stadium initially\n      camera.lookAt(0, 0, 0);\n    }\n  }, [camera, seatCoordinates]);\n\n  // Throttled camera position update to improve performance\n  const lastUpdateTime = useRef(0);\n  useFrame(() => {\n    // Only update position if needed and throttle updates\n    if (camera && seatCoordinates) {\n      const now = performance.now();\n      if (now - lastUpdateTime.current > 100) {\n        // Throttle to once every 100ms\n        // Keep the camera position fixed at the seat coordinates\n        if (Math.abs(camera.position.x - seatCoordinates.x) > 0.001 || Math.abs(camera.position.y - (seatCoordinates.y || 2)) > 0.001 || Math.abs(camera.position.z - seatCoordinates.z) > 0.001) {\n          camera.position.set(seatCoordinates.x || 0, seatCoordinates.y || 2, seatCoordinates.z || 0);\n          lastUpdateTime.current = now;\n        }\n      }\n    }\n  });\n\n  // Set up mouse event listeners for camera rotation with optimized event handling\n  useEffect(() => {\n    const canvas = gl.domElement;\n    const handleMouseDown = e => {\n      isDragging.current = true;\n      lastMouseX.current = e.clientX;\n      lastMouseY.current = e.clientY;\n    };\n    const handleMouseUp = () => {\n      isDragging.current = false;\n    };\n\n    // More efficient mouse move handler with throttling\n    let throttleTimeout = null;\n    const handleMouseMove = e => {\n      if (!isDragging.current) return;\n\n      // Throttle mouse move events\n      if (!throttleTimeout) {\n        throttleTimeout = setTimeout(() => {\n          throttleTimeout = null;\n\n          // Calculate mouse movement\n          const deltaX = e.clientX - lastMouseX.current;\n          const deltaY = e.clientY - lastMouseY.current;\n          lastMouseX.current = e.clientX;\n          lastMouseY.current = e.clientY;\n\n          // Update rotation (with sensitivity adjustment)\n          const sensitivity = 0.003;\n          rotationY.current -= deltaX * sensitivity;\n          rotationX.current -= deltaY * sensitivity;\n\n          // Limit vertical rotation to avoid flipping\n          rotationX.current = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotationX.current));\n\n          // Apply rotation as quaternion\n          camera.quaternion.setFromEuler(new THREE.Euler(rotationX.current, rotationY.current, 0, 'YXZ'));\n        }, 16); // ~60fps throttling\n      }\n    };\n\n    // Add event listeners\n    canvas.addEventListener('mousedown', handleMouseDown);\n    window.addEventListener('mouseup', handleMouseUp);\n    window.addEventListener('mousemove', handleMouseMove);\n\n    // Clean up\n    return () => {\n      canvas.removeEventListener('mousedown', handleMouseDown);\n      window.removeEventListener('mouseup', handleMouseUp);\n      window.removeEventListener('mousemove', handleMouseMove);\n      if (throttleTimeout) clearTimeout(throttleTimeout);\n    };\n  }, [gl]);\n  return null;\n}, \"U3k3BmWNj3a/QQkh9VnjSXJC3p8=\", false, function () {\n  return [useThree, useFrame];\n})), \"U3k3BmWNj3a/QQkh9VnjSXJC3p8=\", false, function () {\n  return [useThree, useFrame];\n});\n\n// Stadium NeRF model component - optimized with React.memo\n_c2 = FirstPersonControls;\nconst StadiumModel = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  seatCoordinates\n}) => {\n  var _model$scene, _model$scene2, _model$scene2$childre;\n  _s2();\n  const {\n    model,\n    error,\n    isLoading\n  } = useModel();\n  const group = useRef();\n\n  // Reduced console logging to improve performance\n\n  // Try to load the DAE model directly if useModel is not working\n  const modelPath = getStadiumModelPath();\n  const isDAEFile = modelPath.toLowerCase().endsWith('.dae');\n\n  // Use direct loader for DAE files as a fallback - with optimized error handling\n  const daeModel = isDAEFile ? useLoader(ColladaLoader, modelPath, undefined, error => {\n    // Silent error handling to prevent console spam\n    return null;\n  }) : null;\n\n  // If we have a direct DAE model, use it\n  if (isDAEFile && daeModel && (!model || error)) {\n    // Apply transformations to the DAE model - optimized to run only once\n    useEffect(() => {\n      const modelObject = daeModel.scene || daeModel;\n      if (modelObject) {\n        // Scale the model appropriately for DAE files\n        modelObject.scale.set(10, 10, 10);\n\n        // Position the model centered at the origin\n        modelObject.position.set(0, -3, 0);\n\n        // Add materials to meshes if they appear black or have no material\n        modelObject.traverse(child => {\n          if (child.isMesh) {\n            // Check if the mesh has a material\n            if (!child.material || child.material.color && child.material.color.r === 0 && child.material.color.g === 0 && child.material.color.b === 0) {\n              // Apply a default material based on the object name or position\n              // Create a varied set of colors for different parts\n              let color;\n              if (child.name.toLowerCase().includes('field') || child.name.toLowerCase().includes('ground') || child.name.toLowerCase().includes('floor')) {\n                // Green for field/ground\n                color = new THREE.Color(0x4caf50);\n              } else if (child.name.toLowerCase().includes('seat') || child.name.toLowerCase().includes('chair')) {\n                // Blue for seats\n                color = new THREE.Color(0x2196f3);\n              } else if (child.name.toLowerCase().includes('wall') || child.name.toLowerCase().includes('structure')) {\n                // Light gray for walls/structure\n                color = new THREE.Color(0xeceff1);\n              } else if (child.position.y > 5) {\n                // Light fixtures or overhead elements\n                color = new THREE.Color(0xffffff);\n              } else {\n                // Default color varies by position to add visual interest\n                const positionHash = Math.abs(child.position.x + child.position.z) % 5;\n                const colors = [0x4caf50,\n                // Green\n                0x2196f3,\n                // Blue\n                0xff9800,\n                // Orange\n                0x9c27b0,\n                // Purple\n                0xf44336 // Red\n                ];\n                color = new THREE.Color(colors[positionHash]);\n              }\n\n              // Create a new standard material with the determined color\n              child.material = new THREE.MeshStandardMaterial({\n                color: color,\n                roughness: 0.7,\n                metalness: 0.2,\n                side: THREE.DoubleSide\n              });\n            }\n\n            // Enable shadows on all meshes\n            child.castShadow = true;\n            child.receiveShadow = true;\n          }\n        });\n      }\n    }, [daeModel]);\n    return /*#__PURE__*/_jsxDEV(\"group\", {\n      ref: group,\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: daeModel.scene || daeModel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [10, 10, 5],\n        intensity: 1,\n        castShadow: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [-10, 10, 5],\n        intensity: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [0, 15, 0],\n        intensity: 0.8,\n        castShadow: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n        position: [0, -3, 0],\n        rotation: [-Math.PI / 2, 0, 0],\n        receiveShadow: true,\n        children: [/*#__PURE__*/_jsxDEV(\"circleGeometry\", {\n          args: [150, 64]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n          color: \"#4caf50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If model is still loading, we'll let the parent component show a loading indicator\n  if (isLoading) {\n    return null;\n  }\n\n  // If model is null or there's an error, return the fallback model\n  if (!model || error) {\n    return /*#__PURE__*/_jsxDEV(FallbackModel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Check if the model is a Collada model (DAE)\n  const isColladaModel = !!model.scene && !model.scene.isObject3D;\n\n  // Get animations if available\n  const animations = ((_model$scene = model.scene) === null || _model$scene === void 0 ? void 0 : _model$scene.animations) || (model === null || model === void 0 ? void 0 : model.animations) || [];\n  const {\n    actions\n  } = useAnimations(animations, group);\n\n  // Check if the model has actual geometry - if not, use the fallback\n  const hasGeometry = isColladaModel ? true : // Collada models are handled differently\n  model === null || model === void 0 ? void 0 : (_model$scene2 = model.scene) === null || _model$scene2 === void 0 ? void 0 : (_model$scene2$childre = _model$scene2.children) === null || _model$scene2$childre === void 0 ? void 0 : _model$scene2$childre.some(child => child.type === 'Mesh' || child.type === 'Group' || child.children && child.children.length > 0);\n  if (!hasGeometry) {\n    return /*#__PURE__*/_jsxDEV(FallbackModel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Apply transformations to the model - optimized to run only when model changes\n  useEffect(() => {\n    if (model !== null && model !== void 0 && model.scene) {\n      // Cache the scene reference\n      const scene = model.scene;\n\n      // Scale the model appropriately - use larger scale for better visibility\n      scene.scale.set(10, 10, 10);\n\n      // Position the model centered at the origin\n      scene.position.set(0, -3, 0);\n\n      // Play any animations if they exist\n      if (actions && Object.keys(actions).length > 0) {\n        var _actions$actionName;\n        const actionName = Object.keys(actions)[0];\n        (_actions$actionName = actions[actionName]) === null || _actions$actionName === void 0 ? void 0 : _actions$actionName.play();\n      }\n    }\n  }, [model, actions]);\n\n  // Memoize the model rendering\n  const modelScene = useMemo(() => {\n    return isColladaModel ?\n    /*#__PURE__*/\n    // For Collada models, we need to handle the structure differently\n    _jsxDEV(\"primitive\", {\n      object: model.scene\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this) :\n    /*#__PURE__*/\n    // For GLB/GLTF models, we can use the scene directly rather than cloning\n    _jsxDEV(\"primitive\", {\n      object: model.scene\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this);\n  }, [model.scene, isColladaModel]);\n\n  // Return the loaded model\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: group,\n    children: [modelScene, /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.7\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [10, 10, 5],\n      intensity: 1,\n      castShadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [-10, 10, 5],\n      intensity: 0.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -3, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"circleGeometry\", {\n        args: [150, 64]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#4caf50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n}, \"pySK33TEcaO1ycI4eeCjksnGaC8=\", false, function () {\n  return [useModel, useLoader, useAnimations];\n})), \"pySK33TEcaO1ycI4eeCjksnGaC8=\", false, function () {\n  return [useModel, useLoader, useAnimations];\n});\n\n// Fallback model to use if the stadium model fails to load - optimized with React.memo\n_c4 = StadiumModel;\nconst FallbackModel = /*#__PURE__*/_s3(/*#__PURE__*/React.memo(_c5 = _s3(() => {\n  _s3();\n  // Use useMemo to create geometry once\n  const circleGeometry = useMemo(() => new THREE.CircleGeometry(150, 32), []);\n  const centerCircleGeometry = useMemo(() => new THREE.CircleGeometry(50, 32), []);\n  const ringGeometry = useMemo(() => new THREE.RingGeometry(49, 50, 32), []);\n  const centerMarkerGeometry = useMemo(() => new THREE.CircleGeometry(5, 16), []);\n\n  // Use useMemo to create materials once\n  const floorMaterial = useMemo(() => new THREE.MeshStandardMaterial({\n    color: \"#4caf50\"\n  }), []);\n  const centerMaterial = useMemo(() => new THREE.MeshStandardMaterial({\n    color: \"#8bc34a\"\n  }), []);\n  const lineMaterial = useMemo(() => new THREE.MeshStandardMaterial({\n    color: \"#ffffff\"\n  }), []);\n  const markerMaterial = useMemo(() => new THREE.MeshStandardMaterial({\n    color: \"#cddc39\"\n  }), []);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -3, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: circleGeometry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: floorMaterial\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -2.95, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: centerCircleGeometry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: centerMaterial\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -2.9, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: ringGeometry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: lineMaterial\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -2.85, 0],\n      rotation: [-Math.PI / 2, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: centerMarkerGeometry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: markerMaterial\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), Array.from({\n      length: 12\n    }).map((_, i) => {\n      const angle = i * Math.PI / 6;\n      const radius = 100;\n      const x = Math.cos(angle) * radius;\n      const z = Math.sin(angle) * radius;\n      return /*#__PURE__*/_jsxDEV(\"group\", {\n        position: [x, 10, z],\n        rotation: [0, -angle + Math.PI / 2, 0],\n        children: /*#__PURE__*/_jsxDEV(\"mesh\", {\n          castShadow: true,\n          receiveShadow: true,\n          children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n            args: [60, 30, 12]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n            color: \"#bbdefb\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)\n      }, `stand-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this);\n    }), Array.from({\n      length: 4\n    }).map((_, i) => {\n      const angle = i * Math.PI / 2;\n      const radius = 120;\n      const x = Math.cos(angle) * radius;\n      const z = Math.sin(angle) * radius;\n      return /*#__PURE__*/_jsxDEV(\"group\", {\n        position: [x, 40, z],\n        children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n          castShadow: true,\n          children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n            args: [8, 8, 8]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n            color: \"#f5f5f5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n          position: [0, 0, 0],\n          intensity: 1,\n          distance: 300,\n          decay: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this)]\n      }, `light-${i}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [10, 20, 10],\n      intensity: 0.8,\n      castShadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"fog\", {\n      attach: \"fog\",\n      args: ['#e0f7fa', 100, 350]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 5\n  }, this);\n}, \"quT2MiyAgCAya9VY9/yDq4NJEK8=\")), \"quT2MiyAgCAya9VY9/yDq4NJEK8=\");\n\n// Main SeatView component with performance optimizations\n_c6 = FallbackModel;\nconst SeatView = /*#__PURE__*/_s4(/*#__PURE__*/React.memo(_c7 = _s4(({\n  seatCoordinates,\n  onBack,\n  seat\n}) => {\n  _s4();\n  const {\n    isLoading,\n    error\n  } = useModel();\n\n  // Create a stable key for the canvas that won't change with small coordinate shifts\n  const canvasKey = useMemo(() => {\n    if (!seatCoordinates) return 'default-view';\n    // Round coordinates to one decimal place to prevent unnecessary re-renders\n    const x = Math.round(seatCoordinates.x * 10) / 10;\n    const y = Math.round((seatCoordinates.y || 2) * 10) / 10;\n    const z = Math.round(seatCoordinates.z * 10) / 10;\n    return `seat-view-${x}-${y}-${z}`;\n  }, [seatCoordinates]);\n\n  // Memoize the initial camera position\n  const cameraPosition = useMemo(() => {\n    return [(seatCoordinates === null || seatCoordinates === void 0 ? void 0 : seatCoordinates.x) || 0, (seatCoordinates === null || seatCoordinates === void 0 ? void 0 : seatCoordinates.y) || 2, (seatCoordinates === null || seatCoordinates === void 0 ? void 0 : seatCoordinates.z) || 0];\n  }, [seatCoordinates]);\n\n  // Memoize the Canvas creation to prevent unnecessary re-renders\n  const canvasElement = useMemo(() => /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: cameraPosition,\n      fov: 75\n    },\n    onCreated: ({\n      gl\n    }) => {\n      gl.domElement.style.touchAction = 'none';\n      // Optimize WebGL rendering\n      gl.setPixelRatio(window.devicePixelRatio > 1 ? 1.5 : 1); // Limit pixel ratio for better performance\n    },\n    frameloop: \"demand\" // Only render when needed\n    ,\n    gl: {\n      antialias: false,\n      // Disable antialiasing for better performance\n      alpha: false,\n      // Disable alpha for better performance\n      powerPreference: 'high-performance'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n      position: [10, 10, 10],\n      intensity: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: null,\n      children: [/*#__PURE__*/_jsxDEV(StadiumModel, {\n        seatCoordinates: seatCoordinates\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Environment, {\n        preset: \"sunset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FirstPersonControls, {\n      seatCoordinates: seatCoordinates\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this)]\n  }, canvasKey, true, {\n    fileName: _jsxFileName,\n    lineNumber: 423,\n    columnNumber: 5\n  }, this), [canvasKey, cameraPosition, seatCoordinates]);\n  return /*#__PURE__*/_jsxDEV(ViewContainer, {\n    children: [isLoading ? /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      children: [/*#__PURE__*/_jsxDEV(LoadingText, {\n        children: \"Loading 3D View...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(CanvasContainer, {\n      children: [canvasElement, error && /*#__PURE__*/_jsxDEV(ErrorOverlay, {\n        children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          children: \"Could not load the stadium model. Showing a simplified view instead.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ViewFooter, {\n      children: [/*#__PURE__*/_jsxDEV(ViewNote, {\n        children: \"Note: This is a simulated view using NeRF technology. The actual view may vary slightly.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ViewControls, {\n        children: /*#__PURE__*/_jsxDEV(ControlsText, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Controls:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this), \" Click and drag to look around.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 452,\n    columnNumber: 5\n  }, this);\n}, \"BW8AZTsmcj6yRq8+7mLy4MFhoJA=\", false, function () {\n  return [useModel];\n})), \"BW8AZTsmcj6yRq8+7mLy4MFhoJA=\", false, function () {\n  return [useModel];\n});\n\n// Styled components remain the same\n_c8 = SeatView;\nconst ViewContainer = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`;\n_c9 = ViewContainer;\nconst CanvasContainer = styled.div`\n  flex: 1;\n  background-color: #f5f5f5;\n`;\n_c10 = CanvasContainer;\nconst ViewFooter = styled.div`\n  padding: 15px 20px;\n  background-color: #f9f9f9;\n  border-top: 1px solid #eee;\n`;\n_c11 = ViewFooter;\nconst ViewNote = styled.p`\n  margin: 0 0 10px 0;\n  font-size: 14px;\n  color: #666;\n`;\n_c12 = ViewNote;\nconst ViewControls = styled.div`\n  display: flex;\n  align-items: center;\n`;\n_c13 = ViewControls;\nconst ControlsText = styled.p`\n  margin: 0;\n  font-size: 14px;\n  color: #333;\n`;\n_c14 = ControlsText;\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.9);\n  z-index: 10;\n`;\n_c15 = LoadingOverlay;\nconst LoadingText = styled.p`\n  font-size: 18px;\n  font-weight: 500;\n  margin-bottom: 20px;\n  color: #333;\n`;\n_c16 = LoadingText;\nconst LoadingSpinner = styled.div`\n  width: 40px;\n  height: 40px;\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid #1976d2;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n_c17 = LoadingSpinner;\nconst ErrorOverlay = styled.div`\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  pointer-events: none;\n`;\n_c18 = ErrorOverlay;\nconst ErrorMessage = styled.div`\n  background-color: rgba(244, 67, 54, 0.8);\n  color: white;\n  padding: 10px 20px;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: 500;\n`;\n_c19 = ErrorMessage;\nexport default SeatView;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"FirstPersonControls$React.memo\");\n$RefreshReg$(_c2, \"FirstPersonControls\");\n$RefreshReg$(_c3, \"StadiumModel$React.memo\");\n$RefreshReg$(_c4, \"StadiumModel\");\n$RefreshReg$(_c5, \"FallbackModel$React.memo\");\n$RefreshReg$(_c6, \"FallbackModel\");\n$RefreshReg$(_c7, \"SeatView$React.memo\");\n$RefreshReg$(_c8, \"SeatView\");\n$RefreshReg$(_c9, \"ViewContainer\");\n$RefreshReg$(_c10, \"CanvasContainer\");\n$RefreshReg$(_c11, \"ViewFooter\");\n$RefreshReg$(_c12, \"ViewNote\");\n$RefreshReg$(_c13, \"ViewControls\");\n$RefreshReg$(_c14, \"ControlsText\");\n$RefreshReg$(_c15, \"LoadingOverlay\");\n$RefreshReg$(_c16, \"LoadingText\");\n$RefreshReg$(_c17, \"LoadingSpinner\");\n$RefreshReg$(_c18, \"ErrorOverlay\");\n$RefreshReg$(_c19, \"ErrorMessage\");","map":{"version":3,"names":["React","Suspense","useState","useEffect","useRef","useCallback","useMemo","styled","Canvas","useFrame","useThree","useLoader","PerspectiveCamera","Environment","useAnimations","positionCameraAtSeat","useModel","THREE","ColladaLoader","getStadiumModelPath","jsxDEV","_jsxDEV","FirstPersonControls","_s","memo","_c","seatCoordinates","camera","gl","isDragging","lastMouseX","lastMouseY","rotationX","rotationY","position","set","x","y","z","lookAt","lastUpdateTime","now","performance","current","Math","abs","canvas","domElement","handleMouseDown","e","clientX","clientY","handleMouseUp","throttleTimeout","handleMouseMove","setTimeout","deltaX","deltaY","sensitivity","max","PI","min","quaternion","setFromEuler","Euler","addEventListener","window","removeEventListener","clearTimeout","_c2","StadiumModel","_s2","_c3","_model$scene","_model$scene2","_model$scene2$childre","model","error","isLoading","group","modelPath","isDAEFile","toLowerCase","endsWith","daeModel","undefined","modelObject","scene","scale","traverse","child","isMesh","material","color","r","g","b","name","includes","Color","positionHash","colors","MeshStandardMaterial","roughness","metalness","side","DoubleSide","castShadow","receiveShadow","ref","children","object","fileName","_jsxFileName","lineNumber","columnNumber","intensity","rotation","args","FallbackModel","isColladaModel","isObject3D","animations","actions","hasGeometry","some","type","length","Object","keys","_actions$actionName","actionName","play","modelScene","_c4","_s3","_c5","circleGeometry","CircleGeometry","centerCircleGeometry","ringGeometry","RingGeometry","centerMarkerGeometry","floorMaterial","centerMaterial","lineMaterial","markerMaterial","Array","from","map","_","i","angle","radius","cos","sin","distance","decay","attach","_c6","SeatView","_s4","_c7","onBack","seat","canvasKey","round","cameraPosition","canvasElement","fov","onCreated","style","touchAction","setPixelRatio","devicePixelRatio","frameloop","antialias","alpha","powerPreference","fallback","preset","ViewContainer","LoadingOverlay","LoadingText","LoadingSpinner","CanvasContainer","ErrorOverlay","ErrorMessage","ViewFooter","ViewNote","ViewControls","ControlsText","_c8","div","_c9","_c10","_c11","p","_c12","_c13","_c14","_c15","_c16","_c17","_c18","_c19","$RefreshReg$"],"sources":["/Users/joshuashunk/Documents/cs131-nerf/src/components/SeatView.js"],"sourcesContent":["// @ts-nocheck\nimport React, { Suspense, useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport styled from 'styled-components';\nimport { Canvas, useFrame, useThree, useLoader } from '@react-three/fiber';\nimport { PerspectiveCamera, Environment, useAnimations } from '@react-three/drei';\nimport { positionCameraAtSeat } from '../utils/modelLoader';\nimport { useModel } from '../utils/ModelContext';\nimport * as THREE from 'three';\nimport { ColladaLoader } from 'three/examples/jsm/loaders/ColladaLoader';\nimport { getStadiumModelPath } from '../utils/modelLoader';\n\n// Custom first-person camera controls optimized for performance\nconst FirstPersonControls = React.memo(({ seatCoordinates }) => {\n  const { camera, gl } = useThree();\n  const isDragging = useRef(false);\n  const lastMouseX = useRef(0);\n  const lastMouseY = useRef(0);\n  const rotationX = useRef(0);\n  const rotationY = useRef(0);\n  \n  // Set initial camera position only once when coordinates change\n  useEffect(() => {\n    if (camera && seatCoordinates) {\n      camera.position.set(\n        seatCoordinates.x || 0,\n        seatCoordinates.y || 2,\n        seatCoordinates.z || 0\n      );\n      \n      // Look at the center of the stadium initially\n      camera.lookAt(0, 0, 0);\n    }\n  }, [camera, seatCoordinates]);\n  \n  // Throttled camera position update to improve performance\n  const lastUpdateTime = useRef(0);\n  \n  useFrame(() => {\n    // Only update position if needed and throttle updates\n    if (camera && seatCoordinates) {\n      const now = performance.now();\n      if (now - lastUpdateTime.current > 100) { // Throttle to once every 100ms\n        // Keep the camera position fixed at the seat coordinates\n        if (Math.abs(camera.position.x - seatCoordinates.x) > 0.001 ||\n            Math.abs(camera.position.y - (seatCoordinates.y || 2)) > 0.001 ||\n            Math.abs(camera.position.z - seatCoordinates.z) > 0.001) {\n          \n          camera.position.set(\n            seatCoordinates.x || 0,\n            seatCoordinates.y || 2,\n            seatCoordinates.z || 0\n          );\n          lastUpdateTime.current = now;\n        }\n      }\n    }\n  });\n  \n  // Set up mouse event listeners for camera rotation with optimized event handling\n  useEffect(() => {\n    const canvas = gl.domElement;\n    \n    const handleMouseDown = (e) => {\n      isDragging.current = true;\n      lastMouseX.current = e.clientX;\n      lastMouseY.current = e.clientY;\n    };\n    \n    const handleMouseUp = () => {\n      isDragging.current = false;\n    };\n    \n    // More efficient mouse move handler with throttling\n    let throttleTimeout = null;\n    const handleMouseMove = (e) => {\n      if (!isDragging.current) return;\n      \n      // Throttle mouse move events\n      if (!throttleTimeout) {\n        throttleTimeout = setTimeout(() => {\n          throttleTimeout = null;\n          \n          // Calculate mouse movement\n          const deltaX = e.clientX - lastMouseX.current;\n          const deltaY = e.clientY - lastMouseY.current;\n          lastMouseX.current = e.clientX;\n          lastMouseY.current = e.clientY;\n          \n          // Update rotation (with sensitivity adjustment)\n          const sensitivity = 0.003;\n          rotationY.current -= deltaX * sensitivity;\n          rotationX.current -= deltaY * sensitivity;\n          \n          // Limit vertical rotation to avoid flipping\n          rotationX.current = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotationX.current));\n          \n          // Apply rotation as quaternion\n          camera.quaternion.setFromEuler(\n            new THREE.Euler(rotationX.current, rotationY.current, 0, 'YXZ')\n          );\n        }, 16); // ~60fps throttling\n      }\n    };\n    \n    // Add event listeners\n    canvas.addEventListener('mousedown', handleMouseDown);\n    window.addEventListener('mouseup', handleMouseUp);\n    window.addEventListener('mousemove', handleMouseMove);\n    \n    // Clean up\n    return () => {\n      canvas.removeEventListener('mousedown', handleMouseDown);\n      window.removeEventListener('mouseup', handleMouseUp);\n      window.removeEventListener('mousemove', handleMouseMove);\n      if (throttleTimeout) clearTimeout(throttleTimeout);\n    };\n  }, [gl]);\n  \n  return null;\n});\n\n// Stadium NeRF model component - optimized with React.memo\nconst StadiumModel = React.memo(({ seatCoordinates }) => {\n  const { model, error, isLoading } = useModel();\n  const group = useRef();\n  \n  // Reduced console logging to improve performance\n  \n  // Try to load the DAE model directly if useModel is not working\n  const modelPath = getStadiumModelPath();\n  const isDAEFile = modelPath.toLowerCase().endsWith('.dae');\n  \n  // Use direct loader for DAE files as a fallback - with optimized error handling\n  const daeModel = isDAEFile ? useLoader(\n    ColladaLoader, \n    modelPath, \n    undefined, \n    (error) => {\n      // Silent error handling to prevent console spam\n      return null;\n    }\n  ) : null;\n  \n  // If we have a direct DAE model, use it\n  if (isDAEFile && daeModel && (!model || error)) {    \n    // Apply transformations to the DAE model - optimized to run only once\n    useEffect(() => {\n      const modelObject = daeModel.scene || daeModel;\n      if (modelObject) {\n        // Scale the model appropriately for DAE files\n        modelObject.scale.set(10, 10, 10);\n        \n        // Position the model centered at the origin\n        modelObject.position.set(0, -3, 0);\n        \n        // Add materials to meshes if they appear black or have no material\n        modelObject.traverse((child) => {\n          if (child.isMesh) {\n            // Check if the mesh has a material\n            if (!child.material || \n                (child.material.color && child.material.color.r === 0 && \n                 child.material.color.g === 0 && child.material.color.b === 0)) {\n              \n              // Apply a default material based on the object name or position\n              // Create a varied set of colors for different parts\n              let color;\n              \n              if (child.name.toLowerCase().includes('field') || \n                  child.name.toLowerCase().includes('ground') ||\n                  child.name.toLowerCase().includes('floor')) {\n                // Green for field/ground\n                color = new THREE.Color(0x4caf50);\n              } else if (child.name.toLowerCase().includes('seat') || \n                         child.name.toLowerCase().includes('chair')) {\n                // Blue for seats\n                color = new THREE.Color(0x2196f3);\n              } else if (child.name.toLowerCase().includes('wall') || \n                         child.name.toLowerCase().includes('structure')) {\n                // Light gray for walls/structure\n                color = new THREE.Color(0xeceff1);\n              } else if (child.position.y > 5) {\n                // Light fixtures or overhead elements\n                color = new THREE.Color(0xffffff);\n              } else {\n                // Default color varies by position to add visual interest\n                const positionHash = Math.abs(child.position.x + child.position.z) % 5;\n                const colors = [\n                  0x4caf50, // Green\n                  0x2196f3, // Blue\n                  0xff9800, // Orange\n                  0x9c27b0, // Purple\n                  0xf44336  // Red\n                ];\n                color = new THREE.Color(colors[positionHash]);\n              }\n              \n              // Create a new standard material with the determined color\n              child.material = new THREE.MeshStandardMaterial({\n                color: color,\n                roughness: 0.7,\n                metalness: 0.2,\n                side: THREE.DoubleSide\n              });\n            }\n            \n            // Enable shadows on all meshes\n            child.castShadow = true;\n            child.receiveShadow = true;\n          }\n        });\n      }\n    }, [daeModel]);\n    \n    return (\n      <group ref={group}>\n        {/* Render the loaded DAE model */}\n        <primitive object={daeModel.scene || daeModel} />\n        \n        {/* Add additional elements for better visualization */}\n        <ambientLight intensity={0.7} />\n        <directionalLight position={[10, 10, 5]} intensity={1} castShadow />\n        <directionalLight position={[-10, 10, 5]} intensity={0.5} />\n        <directionalLight position={[0, 15, 0]} intensity={0.8} castShadow />\n        \n        {/* Add a circular platform to represent the stadium floor */}\n        <mesh position={[0, -3, 0]} rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n          <circleGeometry args={[150, 64]} />\n          <meshStandardMaterial color=\"#4caf50\" />\n        </mesh>\n      </group>\n    );\n  }\n  \n  // If model is still loading, we'll let the parent component show a loading indicator\n  if (isLoading) {\n    return null;\n  }\n  \n  // If model is null or there's an error, return the fallback model\n  if (!model || error) {\n    return <FallbackModel />;\n  }\n  \n  // Check if the model is a Collada model (DAE)\n  const isColladaModel = !!model.scene && !(model.scene.isObject3D);\n  \n  // Get animations if available\n  const animations = model.scene?.animations || model?.animations || [];\n  const { actions } = useAnimations(animations, group);\n  \n  // Check if the model has actual geometry - if not, use the fallback\n  const hasGeometry = isColladaModel ? \n    true : // Collada models are handled differently\n    model?.scene?.children?.some(child => \n      child.type === 'Mesh' || \n      child.type === 'Group' || \n      (child.children && child.children.length > 0)\n    );\n  \n  if (!hasGeometry) {\n    return <FallbackModel />;\n  }\n  \n  // Apply transformations to the model - optimized to run only when model changes\n  useEffect(() => {\n    if (model?.scene) {\n      // Cache the scene reference\n      const scene = model.scene;\n      \n      // Scale the model appropriately - use larger scale for better visibility\n      scene.scale.set(10, 10, 10);\n      \n      // Position the model centered at the origin\n      scene.position.set(0, -3, 0);\n      \n      // Play any animations if they exist\n      if (actions && Object.keys(actions).length > 0) {\n        const actionName = Object.keys(actions)[0];\n        actions[actionName]?.play();\n      }\n    }\n  }, [model, actions]);\n  \n  // Memoize the model rendering\n  const modelScene = useMemo(() => {\n    return isColladaModel ? (\n      // For Collada models, we need to handle the structure differently\n      <primitive object={model.scene} />\n    ) : (\n      // For GLB/GLTF models, we can use the scene directly rather than cloning\n      <primitive object={model.scene} />\n    );\n  }, [model.scene, isColladaModel]);\n  \n  // Return the loaded model\n  return (\n    <group ref={group}>\n      {/* Render the loaded model */}\n      {modelScene}\n      \n      {/* Add additional elements for better visualization */}\n      <ambientLight intensity={0.7} />\n      <directionalLight position={[10, 10, 5]} intensity={1} castShadow />\n      <directionalLight position={[-10, 10, 5]} intensity={0.5} />\n      \n      {/* Add a circular platform to represent the stadium floor */}\n      <mesh position={[0, -3, 0]} rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n        <circleGeometry args={[150, 64]} />\n        <meshStandardMaterial color=\"#4caf50\" />\n      </mesh>\n    </group>\n  );\n});\n\n// Fallback model to use if the stadium model fails to load - optimized with React.memo\nconst FallbackModel = React.memo(() => {\n  // Use useMemo to create geometry once\n  const circleGeometry = useMemo(() => new THREE.CircleGeometry(150, 32), []);\n  const centerCircleGeometry = useMemo(() => new THREE.CircleGeometry(50, 32), []);\n  const ringGeometry = useMemo(() => new THREE.RingGeometry(49, 50, 32), []);\n  const centerMarkerGeometry = useMemo(() => new THREE.CircleGeometry(5, 16), []);\n  \n  // Use useMemo to create materials once\n  const floorMaterial = useMemo(() => new THREE.MeshStandardMaterial({ color: \"#4caf50\" }), []);\n  const centerMaterial = useMemo(() => new THREE.MeshStandardMaterial({ color: \"#8bc34a\" }), []);\n  const lineMaterial = useMemo(() => new THREE.MeshStandardMaterial({ color: \"#ffffff\" }), []);\n  const markerMaterial = useMemo(() => new THREE.MeshStandardMaterial({ color: \"#cddc39\" }), []);\n  \n  return (\n    <group>\n      {/* Stadium floor */}\n      <mesh position={[0, -3, 0]} rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n        <primitive object={circleGeometry} />\n        <primitive object={floorMaterial} />\n      </mesh>\n      \n      {/* Center court/field */}\n      <mesh position={[0, -2.95, 0]} rotation={[-Math.PI / 2, 0, 0]}>\n        <primitive object={centerCircleGeometry} />\n        <primitive object={centerMaterial} />\n      </mesh>\n      \n      {/* Center court lines */}\n      <mesh position={[0, -2.9, 0]} rotation={[-Math.PI / 2, 0, 0]}>\n        <primitive object={ringGeometry} />\n        <primitive object={lineMaterial} />\n      </mesh>\n      \n      {/* Center marker */}\n      <mesh position={[0, -2.85, 0]} rotation={[-Math.PI / 2, 0, 0]}>\n        <primitive object={centerMarkerGeometry} />\n        <primitive object={markerMaterial} />\n      </mesh>\n      \n      {/* Simplified stadium seating - reduce number of elements */}\n      {Array.from({ length: 12 }).map((_, i) => {\n        const angle = (i * Math.PI) / 6;\n        const radius = 100;\n        const x = Math.cos(angle) * radius;\n        const z = Math.sin(angle) * radius;\n        \n        return (\n          <group key={`stand-${i}`} position={[x, 10, z]} rotation={[0, -angle + Math.PI / 2, 0]}>\n            <mesh castShadow receiveShadow>\n              <boxGeometry args={[60, 30, 12]} />\n              <meshStandardMaterial color=\"#bbdefb\" />\n            </mesh>\n          </group>\n        );\n      })}\n      \n      {/* Simplified stadium lights - reduced count */}\n      {Array.from({ length: 4 }).map((_, i) => {\n        const angle = (i * Math.PI) / 2;\n        const radius = 120;\n        const x = Math.cos(angle) * radius;\n        const z = Math.sin(angle) * radius;\n        \n        return (\n          <group key={`light-${i}`} position={[x, 40, z]}>\n            <mesh castShadow>\n              <boxGeometry args={[8, 8, 8]} />\n              <meshStandardMaterial color=\"#f5f5f5\" />\n            </mesh>\n            <pointLight position={[0, 0, 0]} intensity={1} distance={300} decay={2} />\n          </group>\n        );\n      })}\n      \n      {/* Environment ambience */}\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[10, 20, 10]} intensity={0.8} castShadow />\n      <fog attach=\"fog\" args={['#e0f7fa', 100, 350]} />\n    </group>\n  );\n});\n\n// Main SeatView component with performance optimizations\nconst SeatView = React.memo(({ seatCoordinates, onBack, seat }) => {\n  const { isLoading, error } = useModel();\n  \n  // Create a stable key for the canvas that won't change with small coordinate shifts\n  const canvasKey = useMemo(() => {\n    if (!seatCoordinates) return 'default-view';\n    // Round coordinates to one decimal place to prevent unnecessary re-renders\n    const x = Math.round(seatCoordinates.x * 10) / 10;\n    const y = Math.round((seatCoordinates.y || 2) * 10) / 10;\n    const z = Math.round(seatCoordinates.z * 10) / 10;\n    return `seat-view-${x}-${y}-${z}`;\n  }, [seatCoordinates]);\n  \n  // Memoize the initial camera position\n  const cameraPosition = useMemo(() => {\n    return [\n      seatCoordinates?.x || 0, \n      seatCoordinates?.y || 2, \n      seatCoordinates?.z || 0\n    ];\n  }, [seatCoordinates]);\n  \n  // Memoize the Canvas creation to prevent unnecessary re-renders\n  const canvasElement = useMemo(() => (\n    <Canvas \n      key={canvasKey}\n      camera={{ \n        position: cameraPosition, \n        fov: 75 \n      }}\n      onCreated={({ gl }) => {\n        gl.domElement.style.touchAction = 'none';\n        // Optimize WebGL rendering\n        gl.setPixelRatio(window.devicePixelRatio > 1 ? 1.5 : 1); // Limit pixel ratio for better performance\n      }}\n      frameloop=\"demand\" // Only render when needed\n      gl={{ \n        antialias: false, // Disable antialiasing for better performance\n        alpha: false, // Disable alpha for better performance\n        powerPreference: 'high-performance'\n      }}\n    >\n      <ambientLight intensity={0.5} />\n      <pointLight position={[10, 10, 10]} intensity={1} />\n      <Suspense fallback={null}>\n        <StadiumModel seatCoordinates={seatCoordinates} />\n        <Environment preset=\"sunset\" />\n      </Suspense>\n      <FirstPersonControls seatCoordinates={seatCoordinates} />\n    </Canvas>\n  ), [canvasKey, cameraPosition, seatCoordinates]);\n  \n  return (\n    <ViewContainer>\n      {isLoading ? (\n        <LoadingOverlay>\n          <LoadingText>Loading 3D View...</LoadingText>\n          <LoadingSpinner />\n        </LoadingOverlay>\n      ) : (\n        <CanvasContainer>\n          {canvasElement}\n          \n          {error && (\n            <ErrorOverlay>\n              <ErrorMessage>\n                Could not load the stadium model. Showing a simplified view instead.\n              </ErrorMessage>\n            </ErrorOverlay>\n          )}\n        </CanvasContainer>\n      )}\n      \n      <ViewFooter>\n        <ViewNote>\n          Note: This is a simulated view using NeRF technology. The actual view may vary slightly.\n        </ViewNote>\n        <ViewControls>\n          <ControlsText>\n            <strong>Controls:</strong> Click and drag to look around.\n          </ControlsText>\n        </ViewControls>\n      </ViewFooter>\n    </ViewContainer>\n  );\n});\n\n// Styled components remain the same\nconst ViewContainer = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`;\n\nconst CanvasContainer = styled.div`\n  flex: 1;\n  background-color: #f5f5f5;\n`;\n\nconst ViewFooter = styled.div`\n  padding: 15px 20px;\n  background-color: #f9f9f9;\n  border-top: 1px solid #eee;\n`;\n\nconst ViewNote = styled.p`\n  margin: 0 0 10px 0;\n  font-size: 14px;\n  color: #666;\n`;\n\nconst ViewControls = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst ControlsText = styled.p`\n  margin: 0;\n  font-size: 14px;\n  color: #333;\n`;\n\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.9);\n  z-index: 10;\n`;\n\nconst LoadingText = styled.p`\n  font-size: 18px;\n  font-weight: 500;\n  margin-bottom: 20px;\n  color: #333;\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 40px;\n  height: 40px;\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid #1976d2;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst ErrorOverlay = styled.div`\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  pointer-events: none;\n`;\n\nconst ErrorMessage = styled.div`\n  background-color: rgba(244, 67, 54, 0.8);\n  color: white;\n  padding: 10px 20px;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: 500;\n`;\n\nexport default SeatView; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}